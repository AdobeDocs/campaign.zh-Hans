---
title: 一般架构
description: 进一步了解Campaign架构和组件
exl-id: 1d9ff6c5-974d-4a8a-a0d7-641685bbe26e
source-git-commit: eb8ad88ffd9dbaaf1f9ace2e88ba4486711bc72d
workflow-type: tm+mt
source-wordcount: '1217'
ht-degree: 6%

---

# 一般架构{#general-architecture}

典型的Adobe Campaign解决方案部署包含以下组件：

* **个性化客户端环境**

   直观的图形界面，用户可在其中交流和跟踪营销选件、创建营销策划、审阅和管理所有营销活动、项目和计划（包括电子邮件、工作流和登陆页面）、创建和管理客户配置文件以及创建受众。

* **开发环境**

   服务器端软件，根据用户界面中定义的规则和工作流，通过选定的通信渠道（包括电子邮件、短信、推送通知、直邮、Web或社交）执行营销活动。

* **数据库容器**

   Adobe Campaign云数据库基于关系数据库技术，将所有客户信息、促销活动组件、选件和工作流以及促销活动结果存储在客户数据库容器中。

## 个性化客户端环境 {#client-env}

可以通过不同方式访问应用程序：富客户端、瘦客户端或API集成。

* **客户端控制台**:该应用程序的主用户界面是一个本机应用程序（在Windows上），它与Adobe Campaign应用程序服务器通信标准Internet协议（SOAP、HTTP等）。Adobe Campaign Client Console 具有出色的用户友好性，可帮助提升工作效率，使用的带宽非常少（通过使用本地缓存），并且易于部署。此控制台可以从Internet浏览器部署，可以自动更新，并且不需要任何特定的网络配置，因为它只生成HTTP(S)流量。

   ![](../assets/do-not-localize/glass.png) [了解关于 Campaign 客户端控制台的更多信息](../start/connect.md)。

* **Web访问**:部分应用程序可通过使用HTML用户界面的简单web浏览器访问，包括报告模块、投放批准阶段、实例监控等。

   ![](../assets/do-not-localize/glass.png) [了解关于 Campaign Web Access 的更多信息](../start/connect.md)。

* **促销活动API**:在某些情况下，可以使用通过SOAP协议公开的Web服务API从外部应用程序调用系统。

   ![](../assets/do-not-localize/glass.png) [进一步了解Campaign API](../dev/api.md)。

## 开发环境 {#dev-env}

Adobe Campaign是一个具有不同应用程序的单一平台，用于创建开放且可扩展的架构。 Adobe Campaign平台是在灵活的应用程序层上编写的，可轻松配置以满足您的业务需求。 分布式架构确保了线性系统可扩展性，从数千条报文扩展到数百万条报文。

有些Campaign模块会持续运行，而有些模块则偶尔启动，以执行管理任务（例如配置数据库连接）或运行经常性任务（例如合并跟踪信息）。

有三种类型的Adobe Campaign模块：

* **多实例模块**:所有实例都运行一个进程。这适用于以下模块：web、syslogd、trackinglogd和watchdog。
* **单实例模块**:每个实例运行一个进程。这适用于以下模块：mta、wfserver、inMail、sms和stat。
* **实用程序模块**:这些模块有时会运行以执行偶尔或重复的操作（清理、配置、下载跟踪日志等）。

主要流程包括：

**应用程序服务器** (nlserver web)

此过程通过Web服务API(SOAP/HTTP + XML)公开了Adobe Campaign的完整功能。 此外，它还可以动态生成用于基于HTML的访问的网页（报表、Web窗体等）。 为了实现此目的，此过程包括Apache Tomcat JSP服务器。 这是控制台连接到的过程。

**工作流引擎** (nlserver wfserver)

它执行应用程序中定义的工作流进程。

它还可处理定期执行的技术工作流，包括：

* **跟踪**:恢复和整合跟踪日志。它允许您从重定向服务器中检索日志，并创建报告模块使用的聚合指示器。
* **清理**:数据库清理。用于清除旧记录并避免数据库呈指数级增长。
* **账单**:自动发送平台的活动报表（数据库大小、营销操作数量等）。

**投放服务器** (nlserver mta)

Adobe Campaign具有本机电子邮件广播功能。 此进程可用作SMTP邮件传输代理(MTA)。 它可对消息执行“一对一”个性化并处理其实际投放。 它使用投放作业运行并处理自动重试。 此外，启用跟踪后，它会自动替换URL，以便它们指向重定向服务器。

此过程可处理短信、传真和直邮的定制和自动发送给第三方路由器。

**重定向服务器** (nlserver webmdl)

对于电子邮件，Adobe Campaign会自动处理打开和点击跟踪（更有可能的是在网站级别进行事务跟踪）。 要实现此目的，将重写包含在电子邮件中的URL，以指向此模块，该模块在将Internet用户重定向到所需URL之前会注册他们的传递。

为保证最高可用性，此过程完全独立于数据库：其他服务器进程仅使用SOAP调用(HTTP、HTTP(S)和XML)与其通信。 从技术上讲，此功能是在HTTP服务器的扩展模块（IIS中的ISAPI扩展，或DSO Apache模块等）中实施的 和仅在Windows中可用。

还提供了其他更技术性的流程：

**管理退回电子邮件** (nlserver inMail)

此过程允许您从配置为接收在投放失败时返回的退回邮件的邮箱自动接收电子邮件。 然后，这些消息将进行基于规则的处理，以确定未投放的原因（未知收件人、超出配额等） 和，以更新数据库中的投放状态。

所有这些操作都是完全自动和预配置的。

**短信投放状态** (nlserver sms)

此过程会轮询短信路由器以收集进度状态并更新数据库。

**写入日志消息** (nlserver syslogd)

此技术过程会捕获其他进程生成的日志消息和跟踪，并将它们写入硬盘。 这为出现问题时的诊断提供了充足的信息。

**编写跟踪日志** (nlserver trackinglogd)

此过程会将重定向过程生成的跟踪日志保存到磁盘。

**写入入站事件** (nlserver interactiond)

此过程可确保在交互框架内将入站事件记录到磁盘。

**监督模块** （nlserver监视程序）

此技术过程是产生其他过程的主要过程。 它还会监控它们，并在发生事件时自动重新启动它们，从而保持最长的系统正常运行时间。

**统计服务器** (nlserver stat)

此过程维护有关连接数、针对每个邮件服务器发送的邮件数量及其限制（同时连接数、每小时消息数或连接数的最大值）的统计信息。 此外，如果多个实例或计算机共享相同的公共IP地址，则还可以通过此功能联合它们。

## 数据库容器 {#db-containers}

Adobe Campaign Cloud数据库依赖于[!DNL Snowflake]，其中包含功能数据（用户档案、订阅、内容等）、技术数据（投放作业和日志、跟踪日志等） 以及解决方案的工作数据（购买、销售线索），所有Adobe Campaign组件都与数据库通信以执行其特定任务。

客户可以使用预定义的数据库和模式来部署Adobe Campaign，如果需要，可以扩展此预定义的环境。 Adobe Campaign通过SQL调用访问数据集市中的所有数据。 Adobe Campaign还提供了完整的“提取转换和加载(ETL)”工具补充，用于执行数据导入和导出数据到系统和从系统导出的数据。

![](assets/data-flow-diagram.png)


>[!CAUTION]
>
>对于&#x200B;**Campaign托管Cloud Services**，您的环境和初始配置已由Adobe根据您的许可协议条款进行设置。 您不可修改已安装的内置软件包、内置模式或报告。
>
>如果您需要使用 Campaign 加载项或尚未为您配置的特定功能，那么您必须联系 **Adobe 客户关怀**&#x200B;团队。