---
product: campaign
title: 文件传输
description: 了解有关文件传输工作流活动的更多信息
feature: Workflows, Data Management
role: User
exl-id: 794de398-f35d-4c2b-af29-d6fd38eb9394
source-git-commit: 5ab598d904bf900bcb4c01680e1b4730881ff8a5
workflow-type: tm+mt
source-wordcount: '550'
ht-degree: 1%

---

# 文件传输{#file-transfer}

此 **文件传输** 通过活动，您可以接收或发送文件、测试文件是否存在或列出服务器上的文件。 使用的协议为Azure Blob Storage、Amazon Simple Storage Service (S3)、FTP或SFTP。
通过S3、Azure Blob Storage或SFTP连接，您还可以将区段数据导入Adobe实时客户数据平台的Adobe Campaign。 有关详细信息，请参阅此 [文档](https://experienceleague.adobe.com/docs/experience-platform/destinations/catalog/email-marketing/adobe-campaign.html){target="_blank"}.

## 属性 {#properties}

使用下拉列表 **[!UICONTROL Action]** 字段以选择活动的操作。

![](assets/file_transfert_action.png)

该配置取决于所选的操作。

1. **正在接收文件**

   要接收存储在远程服务器上的文件，请选择 **[!UICONTROL File download]** 在 **[!UICONTROL Action]** 字段。 您必须在相关字段中指定其URL。

   ![](assets/file_transfert_edit.png)

   Check **[!UICONTROL Use an external account]** 以从在中配置的Azure Blob存储、S3、FTP或SFTP帐户中选择帐户 **[!UICONTROL Administration > Platform > External accounts]** 树节点。 然后，指定服务器上的哪个目录包含要下载的文件。

   ![](assets/file_transfert_edit_external.png)

1. **文件传输**

   要将文件发送到服务器，请选择 **[!UICONTROL File upload]** 在 **[!UICONTROL Action]** 字段。 您必须在 **[!UICONTROL Remote server]** 部分。 这些参数与入站文件的参数相同。 请参阅上文。

   源文件可以来自上一个活动。 在本例中， **[!UICONTROL Use the file generated by the previous activity]** 必须选中选项。

   ![](assets/file_transfert_edit_send.png)

   这可能还涉及一个或多个其他文件。 要选择它们，请取消选中选项，然后单击 **[!UICONTROL Insert]**. 指定要发送文件的访问路径。 要添加另一个文件，请单击 **[!UICONTROL Insert]** 再来一次。 现在，每个文件都有自己的选项卡。

   ![](assets/file_transfert_source.png)

   使用箭头可更改选项卡的顺序。 这与文件发送到服务器的顺序相关。

   此 **[!UICONTROL Keep history of files sent]** 选项允许您跟踪发送的文件。 可以从目录访问此历史记录。

1. **测试以查看文件是否存在**

   要测试文件是否存在，请选择 **[!UICONTROL Test to see if file exists]** 中的选项 **[!UICONTROL Action]** 字段。 远程服务器的配置与文件下载的配置相同。 有关更多信息，请参阅此 [部分](#properties).

   ![](assets/file_transfert_edit_test.png)

1. **文件列表**

   要列出文件，请选择 **[!UICONTROL File listing]** 选项来自 **[!UICONTROL Action]** 字段。 远程服务器的配置与接收文件的配置相同。 有关更多信息，请参阅此 [部分](#properties).

   此 **[!UICONTROL List all files]** 选项，在选择 **[!UICONTROL File listing]** 操作，用于将服务器上存在的所有文件存储在事件变量中 **vars.filenames** 其中文件名由以下内容分隔： `\n` 个字符。

所有文件传输选项都有两个可能的选项：

* 此 **[!UICONTROL Process missing file]** 选项添加过渡，如果在指定目录中未找到文件，则会激活该过渡。
* 此 **[!UICONTROL Process errors]** 有关选项的详情，请参阅 [正在处理错误](monitor-workflow-execution.md#processing-errors).

此 **[!UICONTROL Advanced parameters...]** 链接允许您访问以下选项：

![](assets/file_transfert_advanced.png)

* **[!UICONTROL Delete the source files after transfer]**

  清除远程服务器上的文件。 如果未选中此选项，请确保手动监控SFTP目录中存档内容的大小。

* **[!UICONTROL Use SSL]**

  允许您在文件传输期间通过SSL协议使用安全连接。

* **[!UICONTROL Display the session logs]**

  允许您恢复Azure Blob存储、S3、FTP或SFTP传输的日志，并将其包含在工作流日志中。

* **[!UICONTROL Disable passive mode]**

  用于指定用于数据传输的连接端口。

此 **[!UICONTROL File historization settings...]** 利用链接，可访问中详述的选项 [Web下载](web-download.md) (**[!UICONTROL File historization]** 步骤)。

## 输入参数 {#input-parameters}

* 文件名

  已发送文件的完整名称。

## 输出参数 {#output-parameters}

* 文件名

  收到文件的完整名称，如果 **[!UICONTROL Use the file generated by the previous activity]** 已选中选项。
